name: Deploy static content to Pages

on:
  push:
    branches: ["main"]
    # ğŸ‘‡ğŸ‘‡ğŸ‘‡ æ ¸å¿ƒè§£è¯åœ¨è¿™é‡Œ ğŸ‘‡ğŸ‘‡ğŸ‘‡
    paths-ignore:
      - 'nutrition_images/**'  # åªè¦æ˜¯è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œçš„å˜åŠ¨ï¼Œç»å¯¹ä¸è§¦å‘æ„å»ºï¼
      - '**.jpg'               # æ‰€æœ‰çš„ jpg å›¾ç‰‡å˜åŠ¨ä¹Ÿä¸è§¦å‘
      - '**.png'               # æ‰€æœ‰çš„ png å›¾ç‰‡å˜åŠ¨ä¹Ÿä¸è§¦å‘
      - 'README.md'            # æ”¹ README ä¹Ÿä¸è§¦å‘

  # å…è®¸ä½ æ‰‹åŠ¨åœ¨ Actions é¡µé¢ç‚¹å‡»æŒ‰é’®æ¥è§¦å‘æ„å»º
  workflow_dispatch:

# è®¾ç½®æƒé™
permissions:
  contents: read
  pages: write
  id-token: write

# å¹¶å‘æ§åˆ¶ï¼šå¦‚æœæœ‰æ–°çš„æ„å»ºæ¥äº†ï¼ŒæŠŠæ—§çš„å–æ¶ˆæ‰
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # å•ä¸€çš„éƒ¨ç½²ä»»åŠ¡
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        
      - name: Setup Pages
        uses: actions/configure-pages@v4
        
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # ä¸Šä¼ æ•´ä¸ªä»“åº“ä½œä¸ºç½‘ç«™å†…å®¹
          path: '.'
          
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
